<!DOCTYPE html>
<html style="height: 100%; width: 100%">
<meta name="Description" content="Voice Counter, Count number of times a word is said" width=device-width>
<body class="main" style="height: 100%; background-color: black">

<script>
  <script language="javascript" type="text/javascript">

var theWord;
var count= 0000;



function restart()
{ 
var que= confirm("Are you sure you want to RESET the counter?"); 
if (que==true)
	count=0;
else 
	count=count;
document.getElementById("output").innerHTML = "0"+ count;
}

var ft= " ";
var count =0;
var adder=0;


var two_line = /\n\n/g;
var one_line = /\n/g;

function linebreak(s) {
  return s.replace(two_line, '<p></p>').replace(one_line, '<br>');
}



function begin(){
theWord= prompt("Enter the word you would like to know the number of times you have said.").toString().toLowerCase();
document.getElementById("infoBox").innerHTML = "Voice Counting automatically counts # of times "+theWord+" is Said or Sung, alone or in sentences";
document.getElementById("status").style.backgroundColor = "rgb(0,213,75)";
document.getElementById("butText").innerHTML = "Begin speaking or singing. Click above to RESET";

if (('webkitSpeechRecognition' in window)) {
 var recognition = new webkitSpeechRecognition();
  recognition.continuous = true;
  recognition.interimResults = true;
  recognition.start();
}
else
{document.getElementById("status").style.backgroundColor = "yellow";
 document.getElementById("butText").innerHTML = "Voice Recognition is not available for this device. Use the manual Buttons Below";
 document.getElementById("infoBox").innerHTML = "Voice Recognition currently only on CHROME for Non-Mobile Device. Use the manual buttons below to count";


}

}




if (('webkitSpeechRecognition' in window)) {
 var recognition = new webkitSpeechRecognition();
  recognition.continuous = true;
  recognition.interimResults = true;
  recognition.start();
}


 recognition.onerror = function(event) {
    if (event.error == 'no-speech') {
return;    }
    if (event.error == 'audio-capture') {
           document.getElementById("status").style.backgroundColor = "red"
           document.getElementById("butText").innerHTML = "Enable MicroPhone Access Then Click Here";

    }
    if (event.error == 'not-allowed') {
                 document.getElementById("status").style.backgroundColor = "red";
           document.getElementById("butText").innerHTML = "Enable MicroPhone Access Then Click Here";
    }
  };




recognition.onend = function() {
recognition.start();}






recognition.onresult = function(event) {
 var it = '';
for (var i = event.resultIndex; i < event.results.length; ++i) {
      if (event.results[i].isFinal) {
adder=0;
 ft += event.results[i][0].transcript.toLowerCase();




} else {
it += event.results[i][0].transcript.toLowerCase();



var itindexer= linebreak(it); 
var n2=itindexer.indexOf(theWord);
var counterOfindex= 0;
while (n2 !== -1){
counterOfindex++;
n2= itindexer.indexOf(theWord, n2 + 1);
if (counterOfindex > adder){var oldadder= adder;
adder= counterOfindex;
count= count+(adder-oldadder);
document.getElementById("output").innerHTML = "0"+ count;
}
}
      }}
 

}
  
  </script>
  
  
<style>
  .table
{
border-style: solid;
width: 100%;
text-align: center;
background-color: black;
height: 100%;
border-color: white;
color:white;
border-radius: 25px;
overflow: hidden;
font-weight:bold;
pading:0;
margin:0;
}
  
</style>


<table class="table">
<tr>
<td onclick="restart()" id="output" colspan="3" style="font-size: 500%; border-style: solid; width: 100%; height:14%; text-align: center; border-radius: 25px; overflow: hidden; font-weight:bold; pading:0; margin:0;"><p1>0000</p1></td>
</tr>

<tr>
<td style="border-color: black; border-style: none; width: 25%"></td>
<td style="border-color: black; border-style: none; width: 50%; height:40%;"><div onclick="begin()" id="status" style="height: 100%; width:100%; border-radius: 50%; background-color: rgb(0,213,75); border-style: solid;" ><span id="butText" style="font-size:350%; color:black; position:relative; top:30%; padding: 0% 0% 0% 1%">Click Here To Start Counting By Voice</span></div></td>
<td style="border-color: black; border-style: none; width: 25%"></td>
</tr>

<tr>
<td colspan="3" style="border-color: white; border-style: solid; height:30%; border-radius: 25px;"><span id="infoBox" style="font-size: 300%;">Voice Counting automatically counts # of times the word "" is Said or Sung, alone or in sentences</span></td>
</tr>
</table>



</body>

</html>
